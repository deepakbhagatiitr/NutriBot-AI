version: "3.1"

intents:
  - greet
  - goodbye
  - meal_suggestion
  - diet_preference
  - faq
  - fallback

responses:
  utter_greet:
    - text: "Hello! How can I assist you with your diet today?"

  utter_goodbye:
    - text: "Goodbye! Stay healthy!"

  utter_default:
    - text: "I'm here to help with nutrition and diet. Ask me about food and health!"

  utter_faq:
    - text: "A balanced diet includes proteins, carbs, fats, vitamins, and minerals in the right proportions."

  utter_meal_suggestion:
    - text: "Fetching some meal recommendations for you..."

  utter_confirm_diet_preference:
    - text: "Got it! You prefer {user_preference}. I'll suggest meals accordingly."
slots:
  user_preference:
    type: text
    influence_conversation: true
    mappings:
      - type: from_intent
        intent: diet_preference # ✅ Stores only when user gives a diet preference
        value: "{text}" # ✅ Stores the user's diet preference

actions:
  - action_store_user_preference
  - action_recommend_meal
